<% provide(:title, @league.description + " | Teams") %>
<h1> Teams for <%= @league.description%></h1>


<% if @league.errors.any?%>
    <div id="error_explanation">
      <h2> <%=pluralize(@league.errors.count, "problem") %> to fix:</h2>

      <ul>
        <% @league.errors.full_messages.each do |message| %>
            <li><%= message %></li>
        <% end %>
      </ul>
    </div>
<%end%>


<table>
  <thead>
    <tr>
      <th># </th>
      <th>Name</th>
      <th>Captain</th>
      <th>Email</th>
<!--      <th colspan="3"></th> -->
    </tr>
  </thead>

  <tbody>
    <% @teams.each_with_index do |team, idx| %>
      <tr>
        <td><%=idx + 1%></td>
        <td><%= team.name %></td>
        <td><%= team.captain %></td>
        <td><%= team.email %></td>
        <td><%= link_to 'Edit', edit_team_path(team) %></td>
        <td><%= link_to 'Destroy', team, method: :delete, data: { confirm: 'Are you sure?' } %></td>

      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to 'Add Team', new_league_team_path(@league)%> |
<%= link_to 'Settings', league_tier_settings_path(@league)%> |
<%= link_to 'League', league_path(@league)%>

<br>
